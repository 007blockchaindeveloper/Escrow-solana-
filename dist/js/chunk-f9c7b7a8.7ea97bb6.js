(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9c7b7a8"],{"159b":function(e,t,c){var n=c("da84"),o=c("fdbc"),i=c("17c2"),a=c("9112");for(var r in o){var u=n[r],s=u&&u.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(l){s.forEach=i}}},"17c2":function(e,t,c){"use strict";var n=c("b727").forEach,o=c("a640"),i=c("ae40"),a=o("forEach"),r=i("forEach");e.exports=a&&r?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"3ecc":function(e,t,c){"use strict";(function(e){c.d(t,"a",(function(){return b}));c("99af"),c("d81d"),c("d3b7"),c("ac1f"),c("1276"),c("5cc6"),c("9a8c"),c("a975"),c("735e"),c("c1ac"),c("d139"),c("3a7b"),c("d5d6"),c("82f8"),c("e91f"),c("60bd"),c("5f96"),c("3280"),c("3fcc"),c("ec97"),c("ca91"),c("25a1"),c("cd26"),c("3c5d"),c("2954"),c("649e"),c("219c"),c("170b"),c("b39a"),c("72f7");var n=c("2909"),o=(c("96cf"),c("1da1")),i=c("9908"),a=c("1b5d"),r=c("399f"),u=c.n(r),s=c("a8d6"),l=new a["b"]("http://localhost:8899","singleGossip"),b=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(c,o,r,b,p,d){var m,f,k,y,j,O,v,A,w,T,g,x,P,I,S;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return m=new a["c"](o),t.t0=a["c"],t.next=4,l.getParsedAccountInfo(m,"singleGossip");case 4:return t.t1=t.sent.value.data.parsed.info.mint,f=new t.t0(t.t1),k=c.split(",").map((function(e){return parseInt(e)})),y=new a["a"](k),j=new a["a"],t.t2=a["e"],t.t3=i["b"],t.t4=i["a"].span,t.next=14,l.getMinimumBalanceForRentExemption(i["a"].span,"singleGossip");case 14:return t.t5=t.sent,t.t6=y.publicKey,t.t7=j.publicKey,t.t8={programId:t.t3,space:t.t4,lamports:t.t5,fromPubkey:t.t6,newAccountPubkey:t.t7},O=t.t2.createAccount.call(t.t2,t.t8),v=i["c"].createInitAccountInstruction(i["b"],f,j.publicKey,y.publicKey),A=i["c"].createTransferInstruction(i["b"],m,j.publicKey,y.publicKey,[],r),w=new a["a"],T=new a["c"](d),t.t9=a["e"],t.t10=s["a"].span,t.next=27,l.getMinimumBalanceForRentExemption(s["a"].span,"singleGossip");case 27:return t.t11=t.sent,t.t12=y.publicKey,t.t13=w.publicKey,t.t14=T,t.t15={space:t.t10,lamports:t.t11,fromPubkey:t.t12,newAccountPubkey:t.t13,programId:t.t14},g=t.t9.createAccount.call(t.t9,t.t15),x=new a["g"]({programId:T,keys:[{pubkey:y.publicKey,isSigner:!0,isWritable:!1},{pubkey:j.publicKey,isSigner:!1,isWritable:!0},{pubkey:new a["c"](b),isSigner:!1,isWritable:!1},{pubkey:w.publicKey,isSigner:!1,isWritable:!0},{pubkey:a["d"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1}],data:e.from(Uint8Array.of.apply(Uint8Array,[0].concat(Object(n["a"])(new u.a(p).toArray("le",8)))))}),P=(new a["f"]).add(O,v,A,g,x),t.next=37,l.sendTransaction(P,[y,j,w],{skipPreflight:!1,preflightCommitment:"singleGossip"});case 37:return t.next=39,new Promise((function(e){return setTimeout(e,1e3)}));case 39:return t.next=41,l.getAccountInfo(w.publicKey,"singleGossip");case 41:return I=t.sent.data,S=s["a"].decode(I),t.abrupt("return",{escrowAccountPubkey:w.publicKey.toBase58(),isInitialized:!!S.isInitialized,initializerAccountPubkey:new a["c"](S.initializerPubkey).toBase58(),XTokenTempAccountPubkey:new a["c"](S.initializerTempTokenAccountPubkey).toBase58(),initializerYTokenAccount:new a["c"](S.initializerReceivingTokenAccountPubkey).toBase58(),expectedAmount:new u.a(S.expectedAmount,10,"le").toNumber()});case 44:case"end":return t.stop()}}),t)})));return function(e,c,n,o,i,a){return t.apply(this,arguments)}}()}).call(this,c("b639").Buffer)},4160:function(e,t,c){"use strict";var n=c("23e7"),o=c("17c2");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"6baa":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),o={class:"bg"},i=Object(n["e"])("p",{class:"title"},"Escrow UI",-1),a={class:"mb-1"},r=Object(n["e"])("label",{for:"2020-12-24-programId-escrow-alice"},"Throwaway private key (as byte array from sollet.io, without the '[]')",-1),u={class:"mb-1"},s=Object(n["e"])("label",{for:"2020-12-24-programId-escrow-alice"},"Program id",-1),l={class:"mb-1"},b=Object(n["e"])("label",{for:""},"Alice's X token account pubkey",-1),p={class:"mb-1"},d=Object(n["e"])("label",{for:""},"Amount of X tokens to send to escrow",-1),m={class:"mb-1"},f=Object(n["e"])("label",{for:""},"Alice's Y token account pubkey",-1),k={class:"mb-1"},y=Object(n["e"])("label",{for:""},"Amount of Y tokens Alice wants",-1),j={class:"mb-1"},O={class:"mb-1"},v=Object(n["d"])(" Escrow account: "),A=Object(n["e"])("div",{class:"mb-1"}," Decoded State ",-1),w={class:"mb-1"},T=Object(n["d"])(" Is initialized: "),g={class:"mb-1"},x=Object(n["d"])(" Initializer account: "),P={class:"mb-1"},I=Object(n["d"])(" X token temp account: "),S={class:"mb-1"},h=Object(n["d"])(" Initializer Y token account: "),E={class:"mb-1"},z=Object(n["d"])(" ExpectedAmount: ");function K(e,t,c,K,X,Y){var U,R,B,G,V,W;return Object(n["n"])(),Object(n["c"])("div",o,[i,Object(n["e"])("div",null,[Object(n["e"])("div",a,[r,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formState.privateKey=t})},null,512),[[n["v"],e.formState.privateKey]])]),Object(n["e"])("div",u,[s,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text",id:"2020-12-24-programId-escrow-alice","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formState.programId=t})},null,512),[[n["v"],e.formState.programId]])]),Object(n["e"])("div",l,[b,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formState.aliceXTokenAccountPubkey=t})},null,512),[[n["v"],e.formState.aliceXTokenAccountPubkey]])]),Object(n["e"])("div",p,[d,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formState.amountXTokensToSendToEscrow=t})},null,512),[[n["v"],e.formState.amountXTokensToSendToEscrow]])]),Object(n["e"])("div",m,[f,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formState.aliceYTokenAccountPubkey=t})},null,512),[[n["v"],e.formState.aliceYTokenAccountPubkey]])]),Object(n["e"])("div",k,[y,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"number","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formState.amountYTokensAliceExpects=t})},null,512),[[n["v"],e.formState.amountYTokensAliceExpects]])]),Object(n["e"])("div",j,[Object(n["e"])("input",{style:{"margin-right":"5px"},class:"cursor-pointer border-none bg-btn normal-font-size",type:"submit",value:"Reset UI",onClick:t[7]||(t[7]=function(){return e.resetAliceUI&&e.resetAliceUI.apply(e,arguments)})}),Object(n["e"])("input",{class:"cursor-pointer border-none bg-btn normal-font-size",type:"submit",value:"Init escrow",onClick:t[8]||(t[8]=function(){return e.onInitEscrow&&e.onInitEscrow.apply(e,arguments)})})])]),Object(n["e"])("div",null,[Object(n["e"])("div",O,[v,Object(n["e"])("div",null,Object(n["t"])(null!==(U=e.escrowState.escrowAccountPubkey)&&void 0!==U?U:"--"),1)]),A,Object(n["e"])("div",w,[T,Object(n["e"])("div",null,Object(n["t"])(null!==(R=e.escrowState.isInitialized)&&void 0!==R?R:"--"),1)]),Object(n["e"])("div",g,[x,Object(n["e"])("div",null,Object(n["t"])(null!==(B=e.escrowState.initializerAccountPubkey)&&void 0!==B?B:"--"),1)]),Object(n["e"])("div",P,[I,Object(n["e"])("div",null,Object(n["t"])(null!==(G=e.escrowState.XTokenTempAccountPubkey)&&void 0!==G?G:"--"),1)]),Object(n["e"])("div",S,[h,Object(n["e"])("div",null,Object(n["t"])(null!==(V=e.escrowState.initializerYTokenAccount)&&void 0!==V?V:"--"),1)]),Object(n["e"])("div",E,[z,Object(n["e"])("div",null,Object(n["t"])(null!==(W=e.escrowState.expectedAmount)&&void 0!==W?W:"--"),1)])])])}c("4160"),c("b64b"),c("159b"),c("96cf");var X=c("1da1"),Y=c("3ecc"),U=Object(n["f"])({setup:function(){var e=Object(n["p"])({privateKey:"",programId:"",aliceXTokenAccountPubkey:"",aliceYTokenAccountPubkey:"",amountXTokensToSendToEscrow:0,amountYTokensAliceExpects:0}),t=Object(n["p"])({escrowAccountPubkey:null,isInitialized:null,initializerAccountPubkey:null,XTokenTempAccountPubkey:null,initializerYTokenAccount:null,expectedAmount:null}),c=function(){e.privateKey="",e.programId="",e.aliceXTokenAccountPubkey="",e.aliceYTokenAccountPubkey="",e.amountXTokensToSendToEscrow=0,e.amountYTokensAliceExpects=0,Object.keys(t).forEach((function(e){return t[e]=null}))},o=function(){var c=Object(X["a"])(regeneratorRuntime.mark((function c(){var n,o,i,a,r,u,s;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(Y["a"])(e.privateKey,e.aliceXTokenAccountPubkey,e.amountXTokensToSendToEscrow,e.aliceYTokenAccountPubkey,e.amountYTokensAliceExpects,e.programId);case 3:n=c.sent,o=n.escrowAccountPubkey,i=n.isInitialized,a=n.initializerAccountPubkey,r=n.XTokenTempAccountPubkey,u=n.initializerYTokenAccount,s=n.expectedAmount,t.escrowAccountPubkey=o,t.isInitialized=i,t.initializerAccountPubkey=a,t.XTokenTempAccountPubkey=r,t.initializerYTokenAccount=u,t.expectedAmount=s,c.next=21;break;case 18:c.prev=18,c.t0=c["catch"](0),c.t0 instanceof Error?alert(c.t0.message):alert("A message-less error occurred");case 21:case"end":return c.stop()}}),c,null,[[0,18]])})));return function(){return c.apply(this,arguments)}}();return{formState:e,resetAliceUI:c,onInitEscrow:o,escrowState:t}}}),R=c("d959"),B=c.n(R);const G=B()(U,[["render",K]]);t["default"]=G},b64b:function(e,t,c){var n=c("23e7"),o=c("7b0b"),i=c("df75"),a=c("d039"),r=a((function(){i(1)}));n({target:"Object",stat:!0,forced:r},{keys:function(e){return i(o(e))}})}}]);
//# sourceMappingURL=chunk-f9c7b7a8.7ea97bb6.js.map