(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8a899f6"],{5316:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),c={class:"bg"},a=Object(n["e"])("p",{class:"title"},"Escrow UI",-1),o={class:"mb-1"},s=Object(n["e"])("label",{for:"2020-12-24-programId-escrow-alice"},"Throwaway private key (as byte array from sollet.io, without the '[]')",-1),i={class:"mb-1"},u=Object(n["e"])("label",{for:"2020-12-24-programId-escrow-alice"},"Program id",-1),l={class:"mb-1"},d=Object(n["e"])("label",{for:""},"Bob's X token account pubkey",-1),b={class:"mb-1"},p=Object(n["e"])("label",{for:""},"Bob's Y token account pubkey",-1),f={class:"mb-1"},m=Object(n["e"])("label",{for:""},"Escrow account pubkey",-1),k={class:"mb-1"},y=Object(n["e"])("label",{for:""},"Amount X tokens Bob wants",-1),A={class:"mb-1"};function w(e,t,r,w,g,v){return Object(n["n"])(),Object(n["c"])("div",c,[a,Object(n["e"])("div",null,[Object(n["e"])("div",o,[s,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formState.privateKey=t})},null,512),[[n["v"],e.formState.privateKey]])]),Object(n["e"])("div",i,[u,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text",id:"2020-12-24-programId-escrow-alice","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formState.programId=t})},null,512),[[n["v"],e.formState.programId]])]),Object(n["e"])("div",l,[d,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formState.takerXAccAddress=t})},null,512),[[n["v"],e.formState.takerXAccAddress]])]),Object(n["e"])("div",b,[p,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formState.takerYAccAddress=t})},null,512),[[n["v"],e.formState.takerYAccAddress]])]),Object(n["e"])("div",f,[m,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formState.escrowAccAddress=t})},null,512),[[n["v"],e.formState.escrowAccAddress]])]),Object(n["e"])("div",k,[y,Object(n["x"])(Object(n["e"])("input",{class:"display-block",type:"number","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formState.XTokenExpectedAmount=t})},null,512),[[n["v"],e.formState.XTokenExpectedAmount]])]),Object(n["e"])("div",A,[Object(n["e"])("input",{style:{"margin-right":"5px"},class:"cursor-pointer border-none bg-btn normal-font-size",type:"submit",value:"Reset UI",onClick:t[7]||(t[7]=function(){return e.resetUI&&e.resetUI.apply(e,arguments)})}),Object(n["e"])("input",{class:"cursor-pointer border-none bg-btn normal-font-size",type:"submit",value:"Take trade",onClick:t[8]||(t[8]=function(){return e.onTakeTrade&&e.onTakeTrade.apply(e,arguments)})})])])])}r("96cf");var g=r("1da1"),v=r("7be9"),j=Object(n["f"])({setup:function(){var e=Object(n["p"])({privateKey:"",programId:"",takerXAccAddress:"",takerYAccAddress:"",escrowAccAddress:"",XTokenExpectedAmount:0}),t=function(){e.privateKey="",e.programId="",e.takerXAccAddress="",e.takerYAccAddress="",e.escrowAccAddress="",e.XTokenExpectedAmount=0},r=function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(v["a"])(e.privateKey,e.escrowAccAddress,e.takerXAccAddress,e.takerYAccAddress,e.XTokenExpectedAmount,e.programId);case 3:alert("Success! Alice and Bob have traded their tokens and all temporary accounts have been closed"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),t.t0 instanceof Error?alert(t.t0.message):alert("A message-less error occurred");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return{formState:e,resetUI:t,onTakeTrade:r}}}),O=r("d959"),x=r.n(O);const h=x()(j,[["render",w]]);t["default"]=h},"7be9":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return d}));r("99af"),r("d81d"),r("d3b7"),r("ac1f"),r("1276"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ec97"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7");var n=r("2909"),c=(r("96cf"),r("1da1")),a=r("9908"),o=r("1b5d"),s=r("399f"),i=r.n(s),u=r("a8d6"),l=new o["b"]("http://localhost:8899","singleGossip"),d=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(r,c,s,d,b,p){var f,m,k,y,A,w,g,v,j,O;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return f=new o["a"](r.split(",").map((function(e){return parseInt(e)}))),m=new o["c"](c),k=new o["c"](s),y=new o["c"](d),A=new o["c"](p),t.prev=5,t.next=8,l.getAccountInfo(m,"singleGossip");case 8:w=t.sent.data,t.next=14;break;case 11:throw t.prev=11,t.t0=t["catch"](5),new Error("Could not find escrow at given address!");case 14:return g=u["a"].decode(w),v={escrowAccountPubkey:m,isInitialized:!!g.isInitialized,initializerAccountPubkey:new o["c"](g.initializerPubkey),XTokenTempAccountPubkey:new o["c"](g.initializerTempTokenAccountPubkey),initializerYTokenAccount:new o["c"](g.initializerReceivingTokenAccountPubkey),expectedAmount:new i.a(g.expectedAmount,10,"le")},t.next=18,o["c"].findProgramAddress([e.from("escrow")],A);case 18:return j=t.sent,O=new o["g"]({programId:A,data:e.from(Uint8Array.of.apply(Uint8Array,[1].concat(Object(n["a"])(new i.a(b).toArray("le",8))))),keys:[{pubkey:f.publicKey,isSigner:!0,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:v.XTokenTempAccountPubkey,isSigner:!1,isWritable:!0},{pubkey:v.initializerAccountPubkey,isSigner:!1,isWritable:!0},{pubkey:v.initializerYTokenAccount,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:a["b"],isSigner:!1,isWritable:!1},{pubkey:j[0],isSigner:!1,isWritable:!1}]}),t.next=22,l.sendTransaction((new o["f"]).add(O),[f],{skipPreflight:!1,preflightCommitment:"singleGossip"});case 22:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e,r,n,c,a,o){return t.apply(this,arguments)}}()}).call(this,r("b639").Buffer)}}]);
//# sourceMappingURL=chunk-f8a899f6.42c3a04a.js.map